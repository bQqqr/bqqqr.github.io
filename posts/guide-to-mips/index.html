<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta http-equiv=content-security-policy content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net/; form-action 'self'; frame-src 'self'; img-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/ https://cdn.jsdelivr.net/; script-src 'self' 'unsafe-inline' https://www.google-analytics.com https://cdn.jsdelivr.net/; prefetch-src 'self'; connect-src 'self' https://www.google-analytics.com;"><meta name=author content="Christos Kaltsas"><meta name=description content="A dive into MIPS core concepts."><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="A Guide To MIPS"><meta name=twitter:description content="A dive into MIPS core concepts."><meta property="og:title" content="A Guide To MIPS"><meta property="og:description" content="A dive into MIPS core concepts."><meta property="og:type" content="article"><meta property="og:url" content="https://bqqqr.github.io/posts/guide-to-mips/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-06-08T00:00:00+00:00"><meta property="article:modified_time" content="2022-06-08T00:00:00+00:00"><title>Christos Kaltsas's Webpage</title><link rel=canonical href=https://bqqqr.github.io/posts/guide-to-mips/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.6b1a4fbc48955b72aea7913e43fabeb45e8bc120da5aa41b598dd33adcac4b59.css integrity="sha256-axpPvEiVW3Kup5E+Q/q+tF6LwSDaWqQbWY3TOtysS1k=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.39e41a7f16bdf8cb16e43cae7d714fa1016f1d2d2898a5b3f27f42c9979204e2.css integrity="sha256-OeQafxa9+MsW5DyufXFPoQFvHS0omKWz8n9CyZeSBOI=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.100.2"></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Christos Kaltsas's Webpage</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/contact/>Contact</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Posts</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://bqqqr.github.io/posts/guide-to-mips/>A Guide To MIPS</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2022-06-08T00:00:00Z>June 8, 2022</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
5-minute read</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/guide/>guide</a></span>
<span class=separator>‚Ä¢</span>
<span class=tag><a href=/tags/assembly/>assembly</a></span>
<span class=separator>‚Ä¢</span>
<span class=tag><a href=/tags/mips/>mips</a></span></div></div></header><div><h1 id=-mips>ü§ñ MIPS
<a class=heading-link href=#-mips><i class="fa fa-link" aria-hidden=true></i></a></h1><h2 id=-registers>üëú Registers
<a class=heading-link href=#-registers><i class="fa fa-link" aria-hidden=true></i></a></h2><h3 id=integer-ones>Integer Ones
<a class=heading-link href=#integer-ones><i class="fa fa-link" aria-hidden=true></i></a></h3><table><thead><tr><th>Symbol</th><th>Actual</th><th>Meaning</th><th>Usage Conventions</th></tr></thead><tbody><tr><td>$zero</td><td>$0</td><td>Constant Value Zero</td><td>Preserved Across Calls</td></tr><tr><td>$at</td><td>$1</td><td>Reversed by the Assembler</td><td>Preserved Across Calls</td></tr><tr><td>$v0-$v1</td><td>$2-3</td><td>Expression Eval & Subprogram Return Value</td><td>Not Preserved Across Calls</td></tr><tr><td>$a0-$a3</td><td>$4-7</td><td>Arguments</td><td>Not Preserved Across Calls</td></tr><tr><td>$t0-$t7</td><td>$8-15</td><td>Temporaries</td><td>Not Preserved Across Calls</td></tr><tr><td>$s0-$s7</td><td>$16-23</td><td>Saved Values</td><td>Preserved Across Calls</td></tr><tr><td>$t8-$t9</td><td>$24-25</td><td>Temporaries</td><td>Not Preserved Across Calls</td></tr><tr><td>$k0-$k1</td><td>$26-27</td><td>Kernel (OS) Registers</td><td>Dangerous to Use</td></tr><tr><td>$gp</td><td>$28</td><td>Global Pointer</td><td>Dangerous to Use</td></tr><tr><td>$sp</td><td>$29</td><td>Stack Pointer</td><td>Dangerous to Use</td></tr><tr><td>$fp</td><td>$30</td><td>Frame Pointer</td><td>Dangerous to Use</td></tr><tr><td>$ra</td><td>$31</td><td>Return Address</td><td>Dangerous to Use</td></tr></tbody></table><p>Simple programs should use the following registers:</p><ul><li><code>$zero</code> for the constant 0.</li><li><code>$s0 - $s8$</code> for main program variables</li><li><code>$t0 - $t8$</code> for subprogram variables</li><li><code>$a0 - $a3$</code> for subprogram and syscall parameters</li><li><code>$v0, $v1$</code> for subprogram return values and syscall codes and return values</li></ul><h3 id=floating-point-ones>Floating-Point Ones
<a class=heading-link href=#floating-point-ones><i class="fa fa-link" aria-hidden=true></i></a></h3><table><thead><tr><th>Register Name</th><th>Use</th></tr></thead><tbody><tr><td>$f0, $f2</td><td>Floating Point Subprogram Return value - Not Preserved Across Calls</td></tr><tr><td>$f4 - $f10</td><td>Temporaries - Not Preserved Across Calls</td></tr><tr><td>$f12, $f14</td><td>The First 2 Floating Point Parameters - Not Preserved Across Calls</td></tr><tr><td>$f16, $f18</td><td>Temporaries - Not Preserved Across Calls</td></tr><tr><td>$f20 - $f30</td><td>Saved Values - Preserved Across Calls</td></tr></tbody></table><h2 id=-instructions>üìù Instructions
<a class=heading-link href=#-instructions><i class="fa fa-link" aria-hidden=true></i></a></h2><table><thead><tr><th>Instruction</th><th>Example</th><th>Meaning</th></tr></thead><tbody><tr><td>Add</td><td>add $1,$2,$3</td><td>$1=$2+$3</td></tr><tr><td>Subtract</td><td>sub $1,$2,$3</td><td>$1=$2-$3</td></tr><tr><td>Add Immediate</td><td>addi $1,$2,100</td><td>$1=$2+100</td></tr><tr><td>Add Unsigned</td><td>addu $1,$2,$3</td><td>$1=$2+$3</td></tr><tr><td>Subtract Unsigned</td><td>subu $1,$2,$3</td><td>$1=$2-$3</td></tr><tr><td>Add Immediate Unsigned</td><td>addiu $1,$2,100</td><td>$1=$2+100</td></tr><tr><td>Multiply (without overflow)</td><td>mul $1,$2,$3</td><td>$1=$2*$3</td></tr><tr><td>Multiply</td><td>mult $2,$3</td><td>$hi,$low=$2*$3</td></tr><tr><td>(Floats) Divide</td><td>div $2,$3</td><td>$hi,$low=$2/$3</td></tr><tr><td>(Floats) Add</td><td>add.s $f0, $f1, $f2</td><td>$f0 := $f1 + $f2</td></tr><tr><td>(Floats) Subtract</td><td>sub.s $f0, $f1, $f2</td><td>$f0 := $f1 - $f2</td></tr><tr><td>(Floats) Multiply</td><td>mul.s $f0, $f1, $f2</td><td>$f0 := $f1 * $f2</td></tr><tr><td>(Floats) Divide</td><td>div.s $f0, $f1, $f2</td><td>$f0 := $f1 / $f2</td></tr><tr><td>(Floats) Abs</td><td>abs.s $f0, $f1</td><td>$f0 := $f1</td></tr><tr><td>(Floats) Negative</td><td>neg.s $f0, $f1</td><td>$f0 := -$f1</td></tr></tbody></table><h3 id=logical>Logical
<a class=heading-link href=#logical><i class="fa fa-link" aria-hidden=true></i></a></h3><table><thead><tr><th>Instruction</th><th>Example</th><th>Meaning</th></tr></thead><tbody><tr><td>and</td><td>and $1,$2,$3</td><td>$1=$2&$3</td></tr><tr><td>or</td><td>or $1,$2,$3 $1=$2</td><td>$3 Bitwise OR</td></tr><tr><td>and immediate</td><td>andi $1,$2,100</td><td>$1=$2&100</td></tr><tr><td>or immediate</td><td>or $1,$2,100</td><td>$1=$2|100</td></tr><tr><td>shift left logical</td><td>sll $1,$2,10</td><td>$1=$2&#171;10</td></tr><tr><td>shift right logical</td><td>srl $1,$2,10</td><td>$1=$2&#187;10</td></tr></tbody></table><h3 id=data-transfer>Data Transfer
<a class=heading-link href=#data-transfer><i class="fa fa-link" aria-hidden=true></i></a></h3><table><thead><tr><th>Instruction</th><th>Example</th><th>Meaning</th></tr></thead><tbody><tr><td>load word</td><td>lw $1,100($2)</td><td>$1=Memory[$2+100]</td></tr><tr><td>store word</td><td>sw $1,100($2)</td><td>Memory[$2+100]=$1</td></tr><tr><td>load upper immediate</td><td>lui $1,100</td><td>$1=100x2^16</td></tr><tr><td>load address</td><td>la $1,label</td><td>$1=Address of label</td></tr><tr><td>load immediate</td><td>li $1,100</td><td>$1=100</td></tr><tr><td>move from hi</td><td>mfhi $2</td><td>$2=hi</td></tr><tr><td>move from lo</td><td>mflo $2</td><td>$2=lo</td></tr><tr><td>move</td><td>move $1,$2</td><td>$1=$2</td></tr><tr><td>load word</td><td>l.s $f0, 100($t2)</td><td>load word into $f0 from address $t2+100</td></tr><tr><td>store word</td><td>s.s $f0, 100($t2)</td><td>store word from $f0 into address $t2+100</td></tr><tr><td>move</td><td>mov.s $f0, $f2</td><td>move between FP registers</td></tr><tr><td>move from</td><td>mfc1 $t1, $f2</td><td>move from FP registers (no conversion)</td></tr><tr><td>move to</td><td>mtc1 $t1, $f2</td><td>move to FP registers (no conversion)</td></tr><tr><td>convert to integer</td><td>cvt.w.s $f2, $f4</td><td>convert from single precision FP to integer</td></tr><tr><td>convert from integer</td><td>cvt.s.w $f2, $f4</td><td>convert from integer to single precision FP</td></tr></tbody></table><h3 id=conditional-branch>Conditional Branch
<a class=heading-link href=#conditional-branch><i class="fa fa-link" aria-hidden=true></i></a></h3><table><thead><tr><th>Instruction</th><th>Example</th><th>Meaning</th></tr></thead><tbody><tr><td>branch on equal</td><td>beq $1,$2,100</td><td>if true goto PC+4+100</td></tr><tr><td>branch on not equal</td><td>bne $1,$2,100</td><td>if true goto PC+4+100</td></tr><tr><td>branch on greater than</td><td>bgt $1,$2,100</td><td>if true goto PC+4+100</td></tr><tr><td>branch on greater than or equal</td><td>bge $1,$2,100</td><td>if true goto PC+4+100</td></tr><tr><td>branch on less than</td><td>blt $1,$2,100</td><td>if true goto PC+4+100</td></tr><tr><td>branch on less than or equal</td><td>ble $1,$2,100</td><td>if true goto PC+4+100</td></tr><tr><td>compare equal</td><td>c.eq.s $f2, $f4</td><td>if $f2 == $f4 then code = 1 else code = 0</td></tr><tr><td>compare less or equal</td><td>c.le.s $f2, $f4</td><td>if $f2 &lt;= $f4 then code = 1 else code = 0</td></tr><tr><td>compare larger than</td><td>c.lt.s $f2, $f4</td><td>if $f2 &lt; $f4 then code = 1 else code = 0</td></tr><tr><td>branch on code == 0</td><td>bc1f label</td><td>if code == 0 then jump to label</td></tr><tr><td>branch on code == 1</td><td>bc1t label</td><td>if code == 1 then jump to label</td></tr></tbody></table><h3 id=comparison>Comparison
<a class=heading-link href=#comparison><i class="fa fa-link" aria-hidden=true></i></a></h3><table><thead><tr><th>Instruction</th><th>Example</th><th>Meaning</th></tr></thead><tbody><tr><td>set on less than</td><td>slt $1,$2,$3</td><td>if($2&lt;$3)$1=1; else $1=0</td></tr><tr><td>set on less than immediate</td><td>slti $1,$2,100</td><td>if($2&lt;100)$1=1; else $1=0</td></tr></tbody></table><h3 id=unconditional-jump>Unconditional Jump
<a class=heading-link href=#unconditional-jump><i class="fa fa-link" aria-hidden=true></i></a></h3><table><thead><tr><th>Instruction</th><th>Example</th><th>Meaning</th></tr></thead><tbody><tr><td>jump</td><td>j 1000</td><td>go to address 1000</td></tr><tr><td>jump register</td><td>jr $1</td><td>go to address stored in $1</td></tr><tr><td>jump and link</td><td>jal 1000</td><td>$ra=PC+4; go to address 1000</td></tr></tbody></table><h3 id=system-calls>System Calls
<a class=heading-link href=#system-calls><i class="fa fa-link" aria-hidden=true></i></a></h3><table><thead><tr><th>Service</th><th>Operation</th><th>v0</th><th>Arguments</th><th>Results</th></tr></thead><tbody><tr><td>print_int</td><td>Print integer number</td><td>1</td><td>$a0 = integer printed</td><td>None</td></tr><tr><td>print_float</td><td>Print float number</td><td>2</td><td>$f12 = float printed</td><td>None</td></tr><tr><td>print_double</td><td>Print dobule number</td><td>3</td><td>$f12 = double printed</td><td>None</td></tr><tr><td>print_string</td><td>Print null-term str</td><td>4</td><td>$a0 = addr(str)</td><td>None</td></tr><tr><td>read_int</td><td>Read int from user</td><td>5</td><td>None</td><td>Int - $v0</td></tr><tr><td>read_float</td><td>Read float from user</td><td>6</td><td>None</td><td>Float - $f0</td></tr><tr><td>read_double</td><td>Read double from user</td><td>7</td><td>None</td><td>Double - $f0</td></tr><tr><td>read_string</td><td>Same as fgets()</td><td>8</td><td>$a0 = addr(str), $a1 = len(str)</td><td>None</td></tr><tr><td>sbrk</td><td>Returns a mem block</td><td>9</td><td>$a0 = size</td><td>Addr - $v0</td></tr><tr><td>exit</td><td>Stop program</td><td>10</td><td>None</td><td>None</td></tr><tr><td>print_char</td><td>Print character</td><td>11</td><td>$a0 = char to be printed</td><td>None</td></tr><tr><td>read_char</td><td>Read character > user</td><td>12</td><td>None</td><td>Char - $v0</td></tr><tr><td>exit2</td><td>Exits /w return code.</td><td>17</td><td>$a0 = return code</td><td>None</td></tr></tbody></table><h3 id=assembly-directives>Assembly Directives
<a class=heading-link href=#assembly-directives><i class="fa fa-link" aria-hidden=true></i></a></h3><table><thead><tr><th>Directive</th><th>Result</th></tr></thead><tbody><tr><td>.word w1, &mldr;, wn</td><td>Store n 32-bit values in successive memory words</td></tr><tr><td>.half h1, &mldr;, hn</td><td>Store n 16-bit values in successive memory words</td></tr><tr><td>.byte b1, &mldr;, bn</td><td>Store n 8-bit values in successive memory words</td></tr><tr><td>.ascii str</td><td>Store the ASCII string str in memory</td></tr><tr><td>.asciiz str</td><td>Store the ASCII string str in memory and null-terminate it</td></tr><tr><td>.space n</td><td>Leave an empty n-byte region of memory for later use</td></tr><tr><td>.align n</td><td>Align the next datum on a 2^n byte boundary.</td></tr></tbody></table></div><footer></footer></article></section></div><footer class=footer><section class=container>¬©
2022
Christos Kaltsas
¬∑
Licensed under <a rel=license href=http://creativecommons.org/licenses/by-nd/4.0/>CC BY-ND 4.0</a>
¬∑
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.f411a1043e37c7c14dfb03f4d94d60d9ee69cfa413b16d0fd4f28695babb82bb.js integrity="sha256-9BGhBD43x8FN+wP02U1g2e5pz6QTsW0P1PKGlbq7grs="></script></body></html>